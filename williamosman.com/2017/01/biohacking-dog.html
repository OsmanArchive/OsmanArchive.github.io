<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width">
        <title>Biohacking a Dog | William Osman</title>
        <link href="../../favicon.ico" rel="icon" type="image/x-icon">
        <link rel="stylesheet" href="../../styles.css">
        <meta content="William Osman engineering blog" name="description">
        <!-- Yo Dawg... -->
    </head>
    <body class="magazine notouch viewitem-open">
        <div class="viewitem-panel">
            <div class="viewitem-wrap">
                <div class="viewitem-background"></div>
                <div class="viewitem-header"></div>
                <div class="viewitem-inner">
                    <div class="viewitem-content" tabindex="0">
                        <div class="article hentry  " itemscope="">
                            <meta itemprop="image_url" content="../../resources/2017/01/bhad/weiner-stare.png">
                            <meta itemprop="thumbnailUrl" content="../../resources/2017/01/bhad/weiner-stare.png">
                            <meta itemprop="blogId" content="6671699914881784896">
                            <meta itemprop="postId" content="4173514653470166310">
                            <div class="article-header">
                                <a class="ribbon date " title="11th January 2017" href="biohacking-dog.html" itemprop="url">
                                    <div class="top ribbon-piece">Jan</div>
                                    <div class="bottom ribbon-piece">11</div>
                                    <div class="tail">
                                        <div class="left ribbon-piece"></div>
                                        <div class="right ribbon-piece"></div>
                                    </div>
                                </a>
                                <h1 class="title entry-title" itemprop="name">
                                    <a href="biohacking-dog.html">
                                    Biohacking a Dog</a>
                                </h1>
                            </div>
                            <div class="article-content entry-content" itemprop="articleBody">
                                <div class="separator" style="clear: both; text-align: center;">
                                </div>
                                <div class="separator" style="clear: both; text-align: center;">
                                    <a href="../../resources/2017/01/bhad/weiner-stare.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="360" src="../../resources/2017/01/bhad/weiner-stare.png" width="640"></a>
                                </div>
                                <br>
                                <div class="separator" style="clear: both; text-align: center;">
                                </div>
                                <br>
                                Biohacking a dog with wieners, a laser cutter, and robotics.<br>
                                <br>
                                <a name="more"></a>
                                <h2>
                                    What?
                                </h2>
                                <div>
                                    That title sounds bad but I'm not sure what else to call it. I'm not sure this even qualifies as biohacking.
                                </div>
                                <div>
                                    <br>
                                </div>
                                <div>
                                    Basically:
                                </div>
                                <div>
                                    Is it possible to remotely control a dog by changing the angle of a wiener dangling in front of its face?
                                </div>
                                <h2>
                                    Why?
                                </h2>
                                <div>
                                    I'm not dignifying this question with an answer.<br>
                                    <h2>
                                        Downloads
                                    </h2>
                                    <div>
                                        <a href="../../resources/2017/01/bhad/BiohackFirmware.zip">Arduino Code</a>
                                    </div>
                                    <div>
                                        <a href="../../resources/2017/01/bhad/BiohackCosmos.zip">COSMOS Files</a>
                                    </div>
                                    <h2>
                                        Video
                                    </h2>
                                </div>
                                <div class="separator" style="clear: both; text-align: center;">
                                    <iframe allowfullscreen="" class="YOUTUBE-iframe-video" data-thumbnail-src="https://i.ytimg.com/vi/8KrNaFFhhw0/0.jpg" frameborder="0" height="360" src="https://www.youtube.com/embed/8KrNaFFhhw0?feature=player_embedded&amp;wmode=opaque" width="640"></iframe>
                                </div>
                                <div>
                                    Filming by <a href="http://www.johnwillner.com/">John Willner</a><br>
                                    <h2>
                                        Design
                                    </h2>
                                </div>
                                <div>
                                    The backpack mechanism was designed in SolidWorks.
                                </div>
                                <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                    <tbody>
                                        <tr>
                                            <td style="text-align: center;"><a href="../../resources/2017/01/bhad/Biohack_dog_late_CAD.PNG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="280" src="../../resources/2017/01/bhad/Biohack_dog_late_CAD.PNG" width="400"></a></td>
                                        </tr>
                                        <tr>
                                            <td class="tr-caption" style="text-align: center;">SolidWorks CAD model</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div>
                                    This entire project was based around my family's english bulldog Barkley, so I found and imported side and rear bulldog reference images for a rough size layout. Fun fact: the images are different genders.... I feel weird having brought that up.
                                </div>
                                <div>
                                    <br>
                                </div>
                                <div>
                                    SolidWork's Toolbox was used to generate the gear profiles.
                                </div>
                                <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                    <tbody>
                                        <tr>
                                            <td style="text-align: center;"><a href="../../resources/2017/01/bhad/CAD_closeup.PNG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="222" src="../../resources/2017/01/bhad/CAD_closeup.PNG" width="400"></a></td>
                                        </tr>
                                        <tr>
                                            <td class="tr-caption" style="text-align: center;">Closeup</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div>
                                    Six glass marbles and a wooden retainer create a thrust bearing for the pivot mechanism. This works exceptionally well for the price, but I have no guarantees for long term performance. I've actually done this before on my <a href="../../2016/10/pumpkin-combat-robot.html">Pumpkin Combat Robot</a>. The shaft is a 1/4-20 bolt with two flange bearings pressed into the wood.
                                </div>
                                <div>
                                    <br>
                                </div>
                                <div>
                                    Two limit switches will keep the hotdog within 120 degrees of the dog's face.
                                </div>
                                <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                    <tbody>
                                        <tr>
                                            <td style="text-align: center;"><a href="../../resources/2017/01/bhad/CAD_top.PNG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="400" src="../../resources/2017/01/bhad/CAD_top.PNG" width="332"></a></td>
                                        </tr>
                                        <tr>
                                            <td class="tr-caption" style="text-align: center;">Top view</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div>
                                    All of the pieces were cut on RetnaSmelter9000 my homebuilt 80w laser cutter.&nbsp;
                                </div>
                                <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                    <tbody>
                                        <tr>
                                            <td style="text-align: center;"><a href="../../resources/2017/01/bhad/lasercut.gif" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="225" src="../../resources/2017/01/bhad/lasercut.gif" width="400"></a></td>
                                        </tr>
                                        <tr>
                                            <td class="tr-caption" style="text-align: center;">Laser cutting</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div>
                                    RetnaSmelter9000 is the best.
                                </div>
                                <div>
                                    <br>
                                </div>
                                <div>
                                    Here the glass marbles are being installed. I bought really cheap marbles and many aren't so round...
                                </div>
                                <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                    <tbody>
                                        <tr>
                                            <td style="text-align: center;"><a href="../../resources/2017/01/bhad/marbles.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="225" src="../../resources/2017/01/bhad/marbles.jpg" width="400"></a></td>
                                        </tr>
                                        <tr>
                                            <td class="tr-caption" style="text-align: center;">Thrust bearing marbles</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div>
                                    This is halfway through the assembly. The motor is clamped between two pieces of plywood and spaced with three threaded standoffs.
                                </div>
                                <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                    <tbody>
                                        <tr>
                                            <td style="text-align: center;"><a href="../../resources/2017/01/bhad/Half_assembled.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="225" src="../../resources/2017/01/bhad/Half_assembled.jpg" width="400"></a></td>
                                        </tr>
                                        <tr>
                                            <td class="tr-caption" style="text-align: center;">Motor mount</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div>
                                    I'm gonna review my year old barely used $220 brushless Bosch drill right now:
                                </div>
                                <div>
                                    <br>
                                </div>
                                <div>
                                    &nbsp;"0/10 when it doesn't work, 8/10 when it does" - me
                                </div>
                                <div>
                                    <br>
                                </div>
                                <div>
                                    When it doesn't work, the drill gets stuck where pulling the trigger does nothing. A little twist of the chuck, and it starts working again. I sent it in under warranty and they claimed it was fixed. It still gets stuck... You can see this crappy behavior in the build portion of the video.
                                </div>
                                <div>
                                    <br>
                                </div>
                                <div>
                                    When the drill does work, there's a noticeable delay when pulling the trigger. I've played with a few other brushless drills which don't have this problem. It's annoying but not unbearable.
                                </div>
                                <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                    <tbody>
                                        <tr>
                                            <td style="text-align: center;"><a href="../../resources/2017/01/bhad/Bosch_Drill.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="225" src="../../resources/2017/01/bhad/Bosch_Drill.jpg" width="400"></a></td>
                                        </tr>
                                        <tr>
                                            <td class="tr-caption" style="text-align: center;">Stuck Bosch drill</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div>
                                    Uhhhh
                                </div>
                                <div>
                                    <br>
                                </div>
                                <div>
                                    Here's the finished doggy bio-backpack and early electronics
                                </div>
                                <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                    <tbody>
                                        <tr>
                                            <td style="text-align: center;"><a href="../../resources/2017/01/bhad/IMG_0826.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="266" src="../../resources/2017/01/bhad/IMG_0826.JPG" width="400"></a></td>
                                        </tr>
                                        <tr>
                                            <td class="tr-caption" style="text-align: center;">Finish mechanical assembly</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <h2>
                                    Electronics and Firmware
                                </h2>
                                <div>
                                    I started writing code on an Arduino Mega for its extra hardware serial ports. I need two serial ports to communicate with both COSMOS and a Sparkfun 9DOF IMU. A software serial port may work, but I don't want to deal with that. The final robot uses an Arduino Leonardo.
                                </div>
                                <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                    <tbody>
                                        <tr>
                                            <td style="text-align: center;"><a href="../../resources/2017/01/bhad/IMG_0847.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="266" src="../../resources/2017/01/bhad/IMG_0847.JPG" width="400"></a></td>
                                        </tr>
                                        <tr>
                                            <td class="tr-caption" style="text-align: center;">Sparkfun 9DOF IMU</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div>
                                    This IMU (inertial measurement unit) outputs orientation information by mixing data from an accelerometer, gyro, and magnetometer. Initially it was screwed to the platform, but had to be moved onto the hotdog stick to avoid the strong magnetic fields produced by the motor (thanks James).
                                </div>
                                <div>
                                    <br>
                                </div>
                                <div>
                                    COSMOS is awesome powerful free software which lets you communicate and display data from your devices. It's like realtime Excel. Below is a view of the hot dog's&nbsp;<span style="color: blue;"><b>measured angle</b></span>, <span style="color: red;"><b>desired angle</b></span>, and <span style="color: #38761d;"><b>motor power</b></span>.
                                </div>
                                <div>
                                    <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                        <tbody>
                                            <tr>
                                                <td style="text-align: center;"><a href="../../resources/2017/01/bhad/cosmos_pid_tune.PNG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="251" src="../../resources/2017/01/bhad/cosmos_pid_tune.PNG" width="400"></a></td>
                                            </tr>
                                            <tr>
                                                <td class="tr-caption" style="text-align: center;">COSMOS graphing</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <b><a href="../../2016/08/cosmos-and-arduino-20-telemetry-system.html">MORE INFO ON COSMOS IN A DIFFERENT BLOG POST</a></b><br>
                                    <br>
                                    We are going to use COSMOS, the IMU, and a PID control algorithm to drive our dumb DC motor to a&nbsp;<b style="color: red;">desired angle</b>. I'll hopefully make a more detailed post of PID one day, but essentially it's simple math which is used to generate an output based on the current system error. The output is how much&nbsp;<span style="color: #38761d;"><b>motor power</b></span>&nbsp;(PWM in this case). System error is the difference between the&nbsp;<span style="color: blue;"><b>measured angle</b> </span>and&nbsp;<span style="color: red;"><b>desired angle</b></span>. This PID loop is repeated ones to thousands of times per second depending on the application.<br>
                                    <br>
                                    PID stands for proportional, integral, and derivative. They are three components which are calculated, scaled, and added together to output a control signal. We can tune the PID loop by adjusting the scale values.<br>
                                    <br>
                                    This is what each component does:<br>
                                    <div class="separator" style="clear: both; text-align: center;">
                                    </div>
                                    <br>
                                    <ul>
                                        <li><b>Proportional</b> - proportional to the error, so more error more power.</li>
                                        <li><b>Integral</b> - error over time, more power the longer the error has persisted.</li>
                                        <li><b>Derivative</b> - change in error, dampens fast errors.</li>
                                    </ul>
                                    <div>
                                        Tuning is kindof an artform, and having some sort of visual output really helps; COSMOS is how I visualized the output for tuning. When the&nbsp;<b style="color: red;">desired angle </b>and<b style="color: red;">&nbsp;</b><b style="color: blue;">measured angle</b><b style="color: red;">&nbsp;</b>are different, a motor power is calculated and the&nbsp;<b style="color: blue;">measured angle </b>does <i>something</i>. We want that <i>something</i> to be the&nbsp;<b style="color: blue;">measured angle</b>&nbsp;closing in on the&nbsp;<b style="color: red;">desired angle</b>&nbsp;as quick as possible.
                                    </div>
                                    <div>
                                        <br>
                                    </div>
                                    <div>
                                        This is what a poorly tuned system looks like in COSMOS:
                                    </div>
                                    <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                        <tbody>
                                            <tr>
                                                <td style="text-align: center;"><a href="../../resources/2017/01/bhad/cosmos_bad_pid_tune.PNG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="252" src="../../resources/2017/01/bhad/cosmos_bad_pid_tune.PNG" width="400"></a></td>
                                            </tr>
                                            <tr>
                                                <td class="tr-caption" style="text-align: center;">Bad PID tune</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div>
                                        This is what it looks like in real life... The&nbsp;<b style="color: red;">desired angle</b>&nbsp;isn't changing, but the arm is oscillating all over the place.
                                    </div>
                                    <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                        <tbody>
                                            <tr>
                                                <td style="text-align: center;"><a href="../../resources/2017/01/bhad/bad-tune.gif" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="225" src="../../resources/2017/01/bhad/bad-tune.gif" width="400"></a></td>
                                            </tr>
                                            <tr>
                                                <td class="tr-caption" style="text-align: center;">Bad PID tune in real life</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div>
                                        This is what decent tuning looks like in COSMOS:
                                    </div>
                                    <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                        <tbody>
                                            <tr>
                                                <td style="text-align: center;"><a href="../../resources/2017/01/bhad/cosmos_decent_pid_tune.PNG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="251" src="../../resources/2017/01/bhad/cosmos_decent_pid_tune.PNG" width="400"></a></td>
                                            </tr>
                                            <tr>
                                                <td class="tr-caption" style="text-align: center;">Decent PID tune</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div>
                                        The&nbsp;<b style="color: blue;">measured angle</b>&nbsp;is hugging the&nbsp;<b style="color: red;">desired angle</b>. That clipped spike bottom middle is probably from hitting a limit switch.
                                    </div>
                                    <div>
                                        <br>
                                    </div>
                                    <div>
                                        This is what a decent tune looks like in real life:
                                    </div>
                                    <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                        <tbody>
                                            <tr>
                                                <td style="text-align: center;"><a href="../../resources/2017/01/bhad/good-tune.gif" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="225" src="../../resources/2017/01/bhad/good-tune.gif" width="400"></a></td>
                                            </tr>
                                            <tr>
                                                <td class="tr-caption" style="text-align: center;">Decent PID tune in real life</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div>
                                        Hobby servos work in this exact same manner, except their feedback is an internal potentiometer instead of the IMU.&nbsp;
                                    </div>
                                    <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                        <tbody>
                                            <tr>
                                                <td style="text-align: center;"><a href="../../resources/2017/01/bhad/hobby_servo.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="240" src="../../resources/2017/01/bhad/hobby_servo.jpg" width="320"></a></td>
                                            </tr>
                                            <tr>
                                                <td class="tr-caption" style="text-align: center;">Hobby servo</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div>
                                        I used a cheap Chinese H bridge motor driver to amplify the PWM signal generated by the Arduino.
                                    </div>
                                    <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                        <tbody>
                                            <tr>
                                                <td style="text-align: center;"><a href="../../resources/2017/01/bhad/IMG_0848.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="266" src="../../resources/2017/01/bhad/IMG_0848.JPG" width="400"></a></td>
                                            </tr>
                                            <tr>
                                                <td class="tr-caption" style="text-align: center;">H bridge motor driver</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div>
                                        A small 0.1uF ceramic capacitor on the motor inputs to help reduce any noise.
                                    </div>
                                    <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                        <tbody>
                                            <tr>
                                                <td style="text-align: center;"><a href="../../resources/2017/01/bhad/IMG_0850.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="266" src="../../resources/2017/01/bhad/IMG_0850.JPG" width="400"></a></td>
                                            </tr>
                                            <tr>
                                                <td class="tr-caption" style="text-align: center;">0.1uF ceramic motor capacitor</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div>
                                        The Arduino Leonardo and bundle of jumper wires... Normally I'd try to make something less janky.
                                    </div>
                                    <br>
                                    <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                        <tbody>
                                            <tr>
                                                <td style="text-align: center;"><a href="../../resources/2017/01/bhad/IMG_0851.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="266" src="../../resources/2017/01/bhad/IMG_0851.JPG" width="400"></a></td>
                                            </tr>
                                            <tr>
                                                <td class="tr-caption" style="text-align: center;">Arduino Leonardo</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    Limit switches soldered to jumper wires. I hate seeing people do this, yet here we are... I died a little on the inside.<br>
                                    <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                        <tbody>
                                            <tr>
                                                <td style="text-align: center;"><a href="../../resources/2017/01/bhad/IMG_0852.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="266" src="../../resources/2017/01/bhad/IMG_0852.JPG" width="400"></a></td>
                                            </tr>
                                            <tr>
                                                <td class="tr-caption" style="text-align: center;">Limit switch bodgery</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    The nrf24l01 wireless transceiver used to communicate with the remote control. I use these for everything. It's literally propped up by its jumper wires.<br>
                                    <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                        <tbody>
                                            <tr>
                                                <td style="text-align: center;"><a href="../../resources/2017/01/bhad/IMG_0849.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="266" src="../../resources/2017/01/bhad/IMG_0849.JPG" width="400"></a></td>
                                            </tr>
                                            <tr>
                                                <td class="tr-caption" style="text-align: center;">nrf24l01 wireless transceiver</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    The remote control was entirely reused from <a href="../../2016/10/pumpkin-combat-robot.html">PumpkinBot</a>, It consists of an Arduino Pro Mini, nrf24l01, joystick, and unused potentiometer.<br>
                                    <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                        <tbody>
                                            <tr>
                                                <td style="text-align: center;"><a href="../../resources/2017/01/bhad/Remote_control.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="225" src="../../resources/2017/01/bhad/Remote_control.jpg" width="400"></a></td>
                                            </tr>
                                            <tr>
                                                <td class="tr-caption" style="text-align: center;">Remote control</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <h2>
                                        Functionality
                                    </h2>
                                    <div>
                                        The remote control sends an angle command to the backpack. The joystick increments and decrements this angle value; the center position means no change in angle.
                                    </div>
                                    <div>
                                        <br>
                                    </div>
                                    <div>
                                        The backpack records its initial angle when booted and interprets all angle commands relative to it; this prevents violent swings on startup. The motor isn't powered until the backpack receives radio commands. For safety, the motor is shut off if radio commands haven't been received for 2 seconds.
                                    </div>
                                    <div>
                                        <br>
                                    </div>
                                    <div>
                                        The limit switches prevent the motor from swinging the hotdog out of the dogs vision, The hotdog arm will sit at the limit switch as long as the desired angle is behind it.
                                    </div>
                                    <h2>
                                        Results
                                    </h2>
                                    <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                        <tbody>
                                            <tr>
                                                <td style="text-align: center;"><a href="../../resources/2017/01/bhad/barkley-hotdog.gif" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="225" src="../../resources/2017/01/bhad/barkley-hotdog.gif" width="400"></a></td>
                                            </tr>
                                            <tr>
                                                <td class="tr-caption" style="text-align: center;">First test</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div>
                                        Welllllllllll it kindof works. I think I need a better dog. I'm not going to try and explain how it went down, so go to ~4:30 into the video for the full test.<br>
                                        <br>
                                        <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                            <tbody>
                                                <tr>
                                                    <td style="text-align: center;"><a href="../../resources/2017/01/bhad/youtube_russian_comment_raw.PNG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="81" src="../../resources/2017/01/bhad/youtube_russian_comment_raw.PNG" width="200"></a></td>
                                                </tr>
                                                <tr>
                                                    <td class="tr-caption" style="text-align: center;">Youtube Comment by Sasha Prs</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">
                                            <tbody>
                                                <tr>
                                                    <td style="text-align: center;"><a href="../../resources/2017/01/bhad/youtube_russian_comment.PNG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="186" src="../../resources/2017/01/bhad/youtube_russian_comment.PNG" width="400"></a></td>
                                                </tr>
                                                <tr>
                                                    <td class="tr-caption" style="text-align: center;">Translated from Russian</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <h2>
                                        Conclusion
                                    </h2>
                                    <div>
                                        The motor kill on dead radio was awesome! When weird things happened, like the limit switch getting stuck, I could just shut the remote off and the motor would stop.
                                    </div>
                                    <div>
                                        <br>
                                    </div>
                                    <div>
                                        Turning the remote back on without resetting the backpack would cause a violent jump, since the remote angle was reset to zero. I should send the increments over radio instead of a hard angle.
                                    </div>
                                    <div>
                                        <br>
                                    </div>
                                    <div>
                                        There is an issue with angle winding, since I protect against IMU rollover (360 to 0) by counting beyond 360 degrees. This means the dog potentially needs to spin around multiple times to get to your desired angle.... Obviously this is not what we want.
                                    </div>
                                    <div>
                                        <br>
                                    </div>
                                    <div>
                                        The motor tuning works pretty well. The only issues are a large amount of backlash between the wood gears, and friction in the motor's gearbox. Both of these are apparently difficult phenomenon to counter in a control system.
                                    </div>
                                    <h2>
                                        The End
                                    </h2>
                                    <div>
                                        That's it, until maybe I listen to people's suggestions to try this with a laser pointer on a cat.....
                                    </div>
                                    <br>
                                    <br>
                                    <br>
                                </div>
                            </div>
                            <div class="article-footer">
                                <div class="publish-info">
                                    Posted <abbr class="time published" title="2017-01-11T08:11:00.002Z" itemprop="datePublished">11th January 2017</abbr> by <a class="url fn" href="" rel="author" itemprop="author">William</a>
                                </div>
                                <div class="share-controls  delay" data-defer="" data-delay="1000">
                                    <span class="share-twitter twitter-share-button  delay" ><iframe allowtransparency="true" frameborder="0" scrolling="no" src="../../p/twitter.html"></iframe></span>
                                    <span class="share-facebook  delay"><iframe allowtransparency="true" frameborder="0" scrolling="no" src="../../p/facebook.html"></iframe></span>
                                </div>
                            </div>
                            <div class="comments" data-defer="">
                                <div class="comments-header toggle-switch">
                                    <span class="bubble  comments-count " title="2 comments">
                                    <span class="bubble-content">2</span>
                                    <span class="bubble-tail"></span>
                                    </span>
                                    <h3>
                                        View comments
                                    </h3>
                                </div>
                                <div class="comments-wrapper blogger-comments toggle-container" data-itemid="4173514653470166310" style="display: block;">
                                    <div class="comments-content">
                                        <div id="bc_0_1C" kind="c">
                                            <div id="bc_0_1CT">
                                                <div id="bc_0_0T" class="comment-thread" kind="r" t="0" u="0">
                                                    <ol id="bc_0_0TB">
                                                        <li id="bc_0_2B" class="comment" kind="b">
                                                            <div class="avatar-image-container"><img src="../../resources/b36-rounded.png"></div>
                                                            <div id="c1586709425015175543" class="comment-block">
                                                                <div id="bc_0_2M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="">foxpaw</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="biohacking-dog.html">January 21, 2017 at 8:09 PM</a></span></div>
                                                                <p id="bc_0_2MC" class="comment-content">Interesting idea, but the dog will eventually lose interest if he isn't able to catch the hot dog once in a while.  It's the same thing with toy rope tug of war; you have to let them win sometimes.</p>
                                                                <span id="bc_0_2MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-744362531"><a o="d" target="_self" href="">Delete</a></span></span>
                                                            </div>
                                                            <div id="bc_0_2BR" class="comment-replies"></div>
                                                            <div id="bc_0_2B_box" class="comment-replybox-single"></div>
                                                        </li>
                                                        <li id="bc_0_3B" class="comment" kind="b">
                                                            <div class="avatar-image-container"><img src="../../resources/b36-rounded.png"></div>
                                                            <div id="c5773620812931133181" class="comment-block">
                                                                <div id="bc_0_3M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="">Anonymous</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="biohacking-dog.html">June 13, 2017 at 2:54 PM</a></span></div>
                                                                <p id="bc_0_3MC" class="comment-content">Great video! One quick suggestion: how about securing the hot-dog to the end of the rod so it does not dangle around. From what I could tell from the video, the swinging confused the dog and he lost interest. Also, what college did you go to for your "expensive" degree. If I had to guess I would say MIT, but maybe Cornell? (I'm a student there so it would be awesome if you did haha)</p>
                                                                <span id="bc_0_3MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-293122471"><a o="d" target="_self" href="">Delete</a></span></span>
                                                            </div>
                                                            <div id="bc_0_3BR" class="comment-replies"></div>
                                                            <div id="bc_0_3B_box" class="comment-replybox-single"></div>
                                                        </li>
                                                    </ol>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="comments-footer">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--Header Bar-->
        <div id="header-container">
            <div id="header" class="header">
                <div class="header-bar">
                    <span class="title" onclick="$('html,body').stop().animate({'scrollTop': 0})">
                        <a href="../../index.html" target="_self">
                            <h1 title="William Osman">William Osman</h1>
                        </a>
                        <h3 title="There's science to do.">There's science to do.</h3>
                    </span>
                    <input type="text" id="search" autocomplete="off" placeholder="Search">
                </div>
                <div class="header-drawer sticky open">
                    <div id="pages" class="tabs">
                        <span class="menu-heading">Pages
                        <span class="indicator"></span>
                        </span>
                        <ul>
                            <li><span class="menu-background"></span><a class="menu-item" data-item-type="page" data-id="" href="../../index.html">Home</a></li>
                            <li><span class="menu-background"></span><a class="menu-item" data-item-type="page" data-id="3583920110399612498" href="../../p/video-ideas.html">Project Ideas</a></li>
                            <li><span class="menu-background"></span><a class="menu-item" data-item-type="page" data-id="6018592759136459730" href="../../p/laser-cutter-info.html">Laser FAQ</a></li>
                            <li><span class="menu-background"></span><a class="menu-item" data-item-type="page" data-id="2405702360668335521" href="../../p/about-me.html">About Me</a></li>
                            <li><span class="menu-background"></span><a class="menu-item" data-item-type="page" data-id="9178769879267408909" href="../../p/contact.html">Contact</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div id="loading"><span>Loading</span></div>
        <div id="chromefix"></div>
    </body>
</html>